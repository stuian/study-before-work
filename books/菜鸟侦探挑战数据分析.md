## 《菜鸟侦探挑战数据分析》

一本我当小说看完的数据分析书籍。

早上起床后的半个小时-一个小时一般是我固定的阅读时间。

因为有想从事数据方面的工作，而数据处理、建模的工具学起来是很容易的，困难的地方主要还是分析问题的思维，所以打算看一些培养数据思维的书籍。

因为是早上休闲看的书，希望不要有太多数学公式、理论和代码，这本书还比较适合。

本书以故事的形式，讲述一个刚毕业的文科生进入一家征信所从零开始学习数据分析的故事。

每一章以一个实际案例为出发点，主人公接受委托人的请求，在同事、老板的帮助下通过数据分析手段，来解决委托人的困惑和要求。

### 案例一：

#### 开业纪念抽奖促销，是巧合还是欺诈？

商业街开了一家床上用品新店，为了纪念开业，这家店举办了为期一周的抽奖促销活动，并声称这次抽奖平均每100个人就能有1人获得一等奖。但有人发现，自开店以来，该店每天的客流量已经超过100人，但一周内只开出了5个一等奖，于是有人向商业街的负责人投诉该店存在欺诈，商业街的负责人找到征信所寻求帮助，想求证该店是否真的存在欺诈？

首先，要分析抽奖的机制，店家的意思并不是说100个人固定有1个人抽中一等奖，而是想表达每个人中奖的概率是1%。这和掷骰子同理，如掷到1点的概率是1/6，但这并不意味着每掷六次必出一次1点，也有可能一次都不出。

其次，从概率的角度来判断一周开出5个一等奖是否合理。

通过电脑模拟抽奖（设置中奖率是1%），每天抽奖100次，持续一周，共700次，把这700次看成一组，共进行1000组实验，相当于统计1000周的中奖情况，将该情况做成直方图如下：

![snailread_1621301419193.jpg](E:\QQ\892545949\FileRecv\MobileFile\snailread_1621301419193.jpg)

由图可知，每周出现5次以及5次以下一等奖的周数占总数的1/3。

综上，没有明显的证据表明一周内开出了5个一等奖存在欺诈。

### 案例二：拯救祖传面包店

商业街上有家祖传面包店，父亲退居二线后，目前是其儿子在经营，有一位老主顾造谣认为其儿子接手后面包的分量减小了，面包店声称每个面包约400g，但是根据他的购买记录，很多面包都不足400g，平均重量也不足400g。老主顾的造谣给面包店带来了不好的影响，于是面包店前任老板委托征信所来查明真相。

主人公和征信所的同事去老主顾那拿到其平时购买面包时记录下的面包重量的数据。具体如下（上图每一格包含日期和当天购买面包的重量，共30个面包）：

![snailread_1621567700744.jpg](E:\QQ\892545949\FileRecv\MobileFile\snailread_1621567700744.jpg)

由于面包都是纯手工制作的，不可能每个面包都刚好是400g，存在误差是很正常的。用直方图对面包重量进行可视化（如下图所示），可以发现大致分布在380-400之间，通过计算标准差，我们可以计算面包重量相对于平均值的离散程度。

![snailread_1621568097383.jpg](E:\QQ\892545949\FileRecv\MobileFile\snailread_1621568097383.jpg)

我们的问题是要检验该面包店的面包重量平均值是否有400g，当然我们不可能去计算面包店的所有面包（也叫总体），通过上述30个面包（也叫样本）的平均值来推断总体平均值所在的范围。

我们可以假设面包重量服从正太分布，根据正太分布的性质，95%的数据分布在距离平均值2个标准差以内。

![snailread_1621568755364.jpg](E:\QQ\892545949\FileRecv\MobileFile\snailread_1621568755364.jpg)

*通过假设检验来检验总体平均值和样本平均值的差异（均值差异检验，也叫t检验）*

1、零假设：认为样本均值和总体均值不存在差异，即该面包店的面包平均重量确实为400g；

2、备择假设：认为样本均值和总体均值存在显著差异，即该面包店的面包平均重量不足400g；

当零假设发生的概率不足5%时要否定零假设，采用备择假设。

文中采用R软件进行操作如下：

![snailread_1621569212423.jpg](E:\QQ\892545949\FileRecv\MobileFile\snailread_1621569212423.jpg)

![snailread_1621569208911.jpg](E:\QQ\892545949\FileRecv\MobileFile\snailread_1621569208911.jpg)

由于P值等于0.1603>5%，则接受零假设，即该面包店的面包平均重量确实有400g；